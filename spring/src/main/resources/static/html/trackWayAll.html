<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Transport</title>
    <link rel="stylesheet" href="/css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="/css/animate.css" type="text/css" />
    <link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="/css/simple-line-icons.css" type="text/css" />
    <link rel="stylesheet" href="/css/font.css" type="text/css" />
<!--    <link rel="stylesheet" href="/css/app.css" type="text/css" />-->
    <!-- 引用vue -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="/vendor/jquery/jquery.min.js"></script>
    <script src="/vendor/jquery/bootstrap.js"></script>
    <script src="/js/echarts/echarts.min.js"></script>
    <style>
        html,
        body,
        #mainpage {
            width: 100%;
            height: 100%;
        }
        html{
            background-color: #2f3342;
        }
        body,#mainpage{
            background-color: transparent;
        }

        h2{
            color: white;
            font-weight: bold;
            text-align: center;
        }
    </style>
</head>
<body>
<div id="mainpage" class="row">
    <h2>2019年10月3日 总出行次数：1108次</h2>
    <h2>2019年10月3日 出行用户个数：114名</h2>
    <div class="row">
        <div class="col-md-6">
            <div style="width: 100%;height:600px;padding: 5%;border-radius: 15px;" id="total">
            </div>
        </div>
        <div class="col-md-6">
            <div style="width: 100%;height:600px;padding: 5%;border-radius: 15px;" id="userTrack">

            </div>
        </div>
    </div>
    <div style="width: 100%">


    </div>


</div>


</body>
<script>
    var app = new Vue({
        el: '#mainpage',
        data() {
            return{

            }
        },
        methods:{
            total(){
                var myChart = echarts.init(document.getElementById('total'));

                var plantCap = [{
                    name: '步行',
                    value: '700次'
                }, {
                    name: '公交和小汽车',
                    value: '251次'
                }, {
                    name: '地铁',
                    value: '157次'
                }];

                var datalist = [{
                    offset: [70, 35],
                    symbolSize: 170,
                    opacity: .95,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: '#29c0fb'
                    }, {
                        offset: 1,
                        color: '#2dc5b9'
                    }]),
                },
                    {
                    offset: [45, 70],
                    symbolSize: 115,
                    opacity: .95,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: '#35d17e'
                    }, {
                        offset: 1,
                        color: '#49ddb2'
                    }]),
                }
                , {
                    offset: [23, 43],
                    symbolSize: 90,
                    opacity: .95,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: '#e5d273'
                    }, {
                        offset: 1,
                        color: '#e4a37f'
                    }]),
                },{
                    offset: [56, 15],
                    symbolSize: 68,
                    opacity: .7,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: '#11c46e'
                    }, {
                        offset: 1,
                        color: '#f08456'
                    }]),
                }, {
                    offset: [65, 75],
                    symbolSize: 65,
                    opacity: .68,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: '#ff4141'
                    }, {
                        offset: 1,
                        color: '#ff8989'
                    }]),
                }];
                var datas = [];
                for (var i = 0; i < plantCap.length; i++) {
                    var item = plantCap[i];
                    var itemToStyle = datalist[i];
                    datas.push({
                        name: item.name+'\n'+item.value,
                        value: itemToStyle.offset,
                        symbolSize: itemToStyle.symbolSize,
                        label: {
                            normal: {
                                textStyle: {
                                    fontSize: 13,
                                    lineHeight: 17,
                                }
                            }
                        },
                        itemStyle: {
                            normal: {
                                color: itemToStyle.color,
                                opacity: itemToStyle.opacity
                            }
                        },
                    })
                }
                option = {
                    title: {
                        text: '各种交通方式识别个数',
                        left: 'center',
                        textStyle: {
                            color: '#fff',
                        }
                    },
                    backgroundColor: '#20203e',
                    grid: {
                        show: false,
                        top: 10,
                        bottom: 10
                    },
                    xAxis: [{
                        gridIndex: 0,
                        type: 'value',
                        show: false,
                        min: 0,
                        max: 100,
                        nameLocation: 'middle',
                        nameGap: 5
                    }],
                    yAxis: [{
                        gridIndex: 0,
                        min: 0,
                        show: false,
                        max: 100,
                        nameLocation: 'middle',
                        nameGap: 30
                    }],
                    series: [{
                        type: 'scatter',
                        symbol: 'circle',
                        symbolSize: 120,
                        label: {
                            normal: {
                                show: true,
                                formatter: '{b}',
                                color: '#fff',
                                textStyle: {
                                    fontSize: '20'
                                }
                            },
                        },
                        itemStyle: {
                            normal: {
                                color: '#00acea'
                            }
                        },
                        data: datas
                    }]
                };
                myChart.setOption(option);
            },
            userTrack(){
                var myChart = echarts.init(document.getElementById('userTrack'));
                var colorArray = [
                    {
                        top: '#ffa800', //黄
                        bottom: 'rgba(11,42,84,.3)'
                    }, {
                        top: '#1ace4a', //绿
                        bottom: 'rgba(11,42,84, 0.3)'
                    },
                    {
                        top: '#4bf3ff', //蓝
                        bottom: 'rgba(11,42,84,.3)'
                    }, {
                        top: '#4f9aff', //深蓝
                        bottom: 'rgba(11,42,84,.3)'
                    },
                    {
                        top: '#b250ff', //粉
                        bottom: 'rgba(11,42,84,.3)'
                    }
                ];
                option = {
                    title: {
                        text: '每种交通公交使用人数',
                        left: 'center',
                        textStyle: {
                            color: '#fff',
                        }
                    },
                    backgroundColor: '#0E2A43',
                    tooltip: {
                        show: true,
                        formatter: "{b}:{c}"
                    },
                    grid: {
                        left: '5%',
                        top: '12%',
                        right: '1%',
                        bottom: '8%',
                        containLabel: true
                    },

                    xAxis: {
                        type: 'value',
                        show:false,
                        position: 'top',
                        axisTick: {
                            show: false
                        },
                        axisLine: {
                            show: false,
                            lineStyle: {
                                color: '#fff',
                            }
                        },
                        splitLine: {
                            show: false
                        },
                    },
                    yAxis: [{
                        type: 'category',
                        axisTick: {
                            show: false,
                            alignWithLabel: false,
                            length: 5,

                        },
                        "splitLine": { //网格线
                            "show": false
                        },
                        inverse: 'true', //排序
                        axisLine: {
                            show: false,
                            lineStyle: {
                                color: '#fff',
                            }
                        },
                        data: ['步行', '公交和小汽车', '地铁']
                    }

                    ],
                    series: [{
                        name: '能耗值',
                        type: 'bar',
                        label: {
                            normal: {
                                show: true,
                                position: 'right',
                                formatter: '{c}',
                                textStyle: {
                                    color: 'white' //color of value
                                }
                            }
                        },
                        itemStyle: {
                            normal: {
                                show: true,
                                color: function(params) {
                                    let num = colorArray.length;
                                    return {
                                        type: 'linear',
                                        colorStops: [{
                                            offset: 0,
                                            color: colorArray[params.dataIndex % num].bottom
                                        }, {
                                            offset: 1,
                                            color: colorArray[params.dataIndex % num].top
                                        }, {
                                            offset: 0,
                                            color: colorArray[params.dataIndex % num].bottom
                                        }, {
                                            offset: 1,
                                            color: colorArray[params.dataIndex % num].top
                                        }, {
                                            offset: 0,
                                            color: colorArray[params.dataIndex % num].bottom
                                        }, {
                                            offset: 1,
                                            color: colorArray[params.dataIndex % num].top
                                        }, {
                                            offset: 0,
                                            color: colorArray[params.dataIndex % num].bottom
                                        }, {
                                            offset: 1,
                                            color: colorArray[params.dataIndex % num].top
                                        }, {
                                            offset: 0,
                                            color: colorArray[params.dataIndex % num].bottom
                                        }, {
                                            offset: 1,
                                            color: colorArray[params.dataIndex % num].top
                                        }, {
                                            offset: 0,
                                            color: colorArray[params.dataIndex % num].bottom
                                        }, {
                                            offset: 1,
                                            color: colorArray[params.dataIndex % num].top
                                        }],
                                        //globalCoord: false
                                    }
                                },
                                barBorderRadius: 70,
                                borderWidth: 0,
                                borderColor: '#333',
                            }
                        },
                        barGap: '0%',
                        barCategoryGap: '50%',
                        data: [109, 89, 55]
                    }
                    ]
                };
                myChart.setOption(option)
            },
            request(){
                console.log(666)
            }
        },
        created(){

        },
        mounted(){
            this.total();
            this.userTrack();
        },
        watch: {

        }
    });
</script>
</html>